'use client';
import useSWR from "swr";
import ProductTable from "@/components/ProductTable";
import Link from "next/link";
import { notFound } from "next/navigation";
import Spinner from "@/components/Spinner";

// async function getData() {
//   const res = await fetch('http://localhost:3000/api/products', {
//     cache: 'no-store',
//   });
//   if (!res.ok) {
//     return notFound();
//   }
//   return res.json();
// }


const page = async () => {
  // SWR function tofetch data
  const fetcher = (...args) => fetch(...args).then(res => res.json())
  const { data, mutate, error, isLoading } = useSWR(`/api/products`, fetcher)
  // console.log(data)
  // const data = await getData();
  return (
    <div className='' >
      <h1 className="my-5 font-extrabold text-4xl text-blue-600" >Products</h1>
      <Link href='/products/new' className='bg-purple-400 p-3 rounded-lg' >Add new product</Link>
      {
        isLoading ? 
        (<div className="h-[20rem] w-screen mx-auto flex items-center justify-center" > <Spinner/> </div>) : 
        (<ProductTable data={data} />)
      }
      <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quia illum sequi rem impedit. Neque provident explicabo soluta atque accusamus nihil, amet et quas est a ipsum necessitatibus incidunt laudantium? Ex pariatur possimus fugiat! Laboriosam, labore. Minus animi sunt optio quibusdam. Exercitationem aspernatur fuga fugit. Impedit, reprehenderit optio? Nihil, vero voluptas. Aperiam at consequuntur voluptatum ipsam incidunt nisi magnam. Officia autem illo maxime! Vero tempore vel odio nam eveniet! Amet, magnam. Quia eveniet nam modi molestiae esse praesentium distinctio facere iste veritatis optio a molestias, pariatur dignissimos consectetur autem nulla. A vitae sed quisquam sunt natus possimus recusandae quaerat dicta veritatis! Rem ex vero nobis earum exercitationem explicabo dolorum facere, minus blanditiis fuga ad maxime eligendi eos nemo cupiditate cum ut, voluptatibus illo numquam. Dolor distinctio, natus nostrum ab cum itaque, doloribus sed, omnis consectetur vel perspiciatis exercitationem sunt sequi magnam architecto fugit esse beatae? Quisquam molestiae odit placeat atque, vero error incidunt ex earum laborum ipsa ipsam dolorem dolore voluptas illo, sapiente, delectus sunt porro deleniti corporis! Eius eveniet repudiandae voluptate vitae, quidem sequi molestiae nam sint cupiditate corrupti exercitationem consectetur rem excepturi. Nobis eligendi minima dolore incidunt nam amet quas iure excepturi error nemo consectetur aut veritatis similique iusto aspernatur repudiandae blanditiis, est libero quam, expedita earum quis, hic dolor? Deserunt molestias illum nobis harum! Rem corrupti consectetur officia iste! Numquam, consequuntur vero. Libero nesciunt id qui voluptatem aut? Facilis earum aut placeat reiciendis totam. Ut iste numquam quisquam accusantium aperiam molestias pariatur voluptatibus, quae mollitia. Odio veritatis placeat sit aperiam officiis, itaque possimus nisi, fuga dolorum obcaecati blanditiis, dolore numquam et? Sint voluptatem quas corrupti porro voluptas, molestias dicta! Saepe qui minima neque quis laudantium molestias necessitatibus perferendis quibusdam cum facere omnis ullam ut eius, quas ea, dignissimos quisquam blanditiis excepturi? Omnis cumque vero cum fugit temporibus dolorem saepe quos quae exercitationem, iusto a voluptatibus nesciunt, possimus illum cupiditate aspernatur, nulla facilis. Ipsa saepe dolorum dolorem? Voluptas similique minima quos repellendus esse quisquam quibusdam quod libero fugit commodi rerum exercitationem placeat pariatur necessitatibus, enim corrupti officia ad qui odit. Dolorum, libero, animi suscipit iure esse quaerat fugit at cum inventore numquam aspernatur dolor ullam facilis ipsum, maxime laudantium nemo illum explicabo molestias. Fugit tenetur animi eligendi ea accusamus cumque repellat asperiores nostrum maiores expedita neque molestias laborum et, reiciendis in aperiam, ullam totam. Qui eligendi est corrupti repudiandae eveniet ipsa porro, tempore vel nam doloribus quaerat laudantium consequatur suscipit officia et omnis dolor, exercitationem libero natus quibusdam placeat reprehenderit, unde tempora. Iusto illo at odio corporis velit eius, sunt molestiae modi consectetur deleniti quia assumenda ipsam magni laudantium in et saepe ea rem possimus voluptate distinctio inventore aut! Harum unde dolorum odio recusandae quo architecto et eaque incidunt, alias vero eius perferendis, maxime consequatur voluptatem tenetur. Expedita cumque sunt voluptatem nihil ipsam deserunt eaque optio ab excepturi iste. A, fugit beatae quaerat, omnis provident, officia natus debitis facere quisquam eius culpa repellendus suscipit! Exercitationem eveniet, tempora iusto deserunt ut porro! Voluptatem illo amet eligendi fuga quo modi hic commodi qui officiis esse rem, a ex voluptates aliquam aliquid tempora numquam non voluptatum quod id possimus distinctio corrupti? Qui vel harum voluptas velit aliquid neque dignissimos magnam culpa, repellat ab at odit, sed repellendus ratione tempora quos placeat voluptatibus repudiandae, consectetur nulla. Ullam deserunt inventore fugit sint tempora eaque dolor provident praesentium, rerum maiores sed officia modi quidem esse, cum, architecto odio laborum? Quae perspiciatis et autem voluptate delectus. Quo eligendi ea culpa exercitationem ipsum eveniet officiis unde praesentium rerum, deleniti omnis temporibus sapiente quisquam delectus, perspiciatis necessitatibus nulla asperiores. Nulla ex excepturi, quae similique deserunt nemo pariatur quidem quo doloribus officia, praesentium id, eligendi ea atque alias accusantium. Aperiam ipsam architecto nemo eum vero unde fugiat, debitis iusto, expedita saepe magnam, quasi ipsum provident eaque esse similique excepturi hic autem deleniti veniam. Itaque labore, incidunt praesentium velit necessitatibus totam impedit debitis culpa illum quibusdam repudiandae magni odio eius adipisci earum suscipit dolor exercitationem? Dignissimos laboriosam cumque tempore voluptate amet numquam animi molestias blanditiis nemo, veritatis totam voluptatibus mollitia quaerat ut nisi quidem aspernatur consequuntur sint iusto eum labore? Maiores, voluptates reiciendis eos labore corporis deleniti maxime magnam dolorem tempore neque eveniet, repellat, laudantium earum perspiciatis sapiente doloremque dolor modi odio. Illo reprehenderit aliquam nobis pariatur adipisci hic neque non inventore eaque minus provident, dicta rem beatae accusantium totam voluptates, eius culpa fugiat nulla autem magnam iusto laboriosam distinctio? Modi porro est dolores accusamus incidunt nam hic nobis eveniet laboriosam sit voluptatibus adipisci eos molestiae explicabo voluptates sapiente, expedita maxime perspiciatis quam aliquid facilis et natus blanditiis necessitatibus. Voluptas atque ipsa vitae rem temporibus vel dicta aperiam nemo adipisci error, tenetur culpa quidem magni reiciendis natus quaerat unde! Molestias, ab maxime voluptatibus iusto culpa saepe aliquid animi expedita? A vero odio voluptatum voluptatibus dicta nobis delectus numquam unde autem sed! Dignissimos reprehenderit at, laborum asperiores placeat similique ea consectetur omnis labore dolores maxime natus. Obcaecati pariatur, odit facere ab iure dolores nihil necessitatibus tenetur asperiores corporis laudantium inventore magnam aperiam incidunt, iusto enim itaque maxime at beatae quibusdam dignissimos ex repellat animi recusandae? Sunt, nisi voluptatem! Aliquam commodi error optio, temporibus sunt odit nobis id, aut voluptatum nihil dolore corrupti, ullam voluptates eos totam. Velit quae adipisci, quia est obcaecati voluptatem doloremque! Molestias animi accusantium ratione, eligendi, fuga commodi quia in neque sapiente rem debitis ab doloremque excepturi cum culpa minus fugit? Porro ab soluta, fugiat, beatae voluptates asperiores repudiandae veritatis minus itaque nisi pariatur harum commodi eius debitis. Iusto soluta tempora accusantium quaerat non facere eligendi reiciendis atque vel praesentium earum, dicta voluptate fugiat cum similique laudantium laborum ullam vitae suscipit numquam, obcaecati, quae qui libero. Perferendis soluta voluptas commodi non, nulla ex perspiciatis quia temporibus corrupti? Blanditiis natus laudantium aperiam rerum, ipsa cupiditate placeat voluptatum quod, alias, esse debitis eum ea distinctio laborum velit ratione? Magni eligendi repellat animi nulla reiciendis quaerat ullam dolor beatae aliquam nobis id quo ratione quod ea itaque labore impedit ex, nihil commodi fugit incidunt nisi. A ab aliquam dolorem molestias illum!</p>
      <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quia illum sequi rem impedit. Neque provident explicabo soluta atque accusamus nihil, amet et quas est a ipsum necessitatibus incidunt laudantium? Ex pariatur possimus fugiat! Laboriosam, labore. Minus animi sunt optio quibusdam. Exercitationem aspernatur fuga fugit. Impedit, reprehenderit optio? Nihil, vero voluptas. Aperiam at consequuntur voluptatum ipsam incidunt nisi magnam. Officia autem illo maxime! Vero tempore vel odio nam eveniet! Amet, magnam. Quia eveniet nam modi molestiae esse praesentium distinctio facere iste veritatis optio a molestias, pariatur dignissimos consectetur autem nulla. A vitae sed quisquam sunt natus possimus recusandae quaerat dicta veritatis! Rem ex vero nobis earum exercitationem explicabo dolorum facere, minus blanditiis fuga ad maxime eligendi eos nemo cupiditate cum ut, voluptatibus illo numquam. Dolor distinctio, natus nostrum ab cum itaque, doloribus sed, omnis consectetur vel perspiciatis exercitationem sunt sequi magnam architecto fugit esse beatae? Quisquam molestiae odit placeat atque, vero error incidunt ex earum laborum ipsa ipsam dolorem dolore voluptas illo, sapiente, delectus sunt porro deleniti corporis! Eius eveniet repudiandae voluptate vitae, quidem sequi molestiae nam sint cupiditate corrupti exercitationem consectetur rem excepturi. Nobis eligendi minima dolore incidunt nam amet quas iure excepturi error nemo consectetur aut veritatis similique iusto aspernatur repudiandae blanditiis, est libero quam, expedita earum quis, hic dolor? Deserunt molestias illum nobis harum! Rem corrupti consectetur officia iste! Numquam, consequuntur vero. Libero nesciunt id qui voluptatem aut? Facilis earum aut placeat reiciendis totam. Ut iste numquam quisquam accusantium aperiam molestias pariatur voluptatibus, quae mollitia. Odio veritatis placeat sit aperiam officiis, itaque possimus nisi, fuga dolorum obcaecati blanditiis, dolore numquam et? Sint voluptatem quas corrupti porro voluptas, molestias dicta! Saepe qui minima neque quis laudantium molestias necessitatibus perferendis quibusdam cum facere omnis ullam ut eius, quas ea, dignissimos quisquam blanditiis excepturi? Omnis cumque vero cum fugit temporibus dolorem saepe quos quae exercitationem, iusto a voluptatibus nesciunt, possimus illum cupiditate aspernatur, nulla facilis. Ipsa saepe dolorum dolorem? Voluptas similique minima quos repellendus esse quisquam quibusdam quod libero fugit commodi rerum exercitationem placeat pariatur necessitatibus, enim corrupti officia ad qui odit. Dolorum, libero, animi suscipit iure esse quaerat fugit at cum inventore numquam aspernatur dolor ullam facilis ipsum, maxime laudantium nemo illum explicabo molestias. Fugit tenetur animi eligendi ea accusamus cumque repellat asperiores nostrum maiores expedita neque molestias laborum et, reiciendis in aperiam, ullam totam. Qui eligendi est corrupti repudiandae eveniet ipsa porro, tempore vel nam doloribus quaerat laudantium consequatur suscipit officia et omnis dolor, exercitationem libero natus quibusdam placeat reprehenderit, unde tempora. Iusto illo at odio corporis velit eius, sunt molestiae modi consectetur deleniti quia assumenda ipsam magni laudantium in et saepe ea rem possimus voluptate distinctio inventore aut! Harum unde dolorum odio recusandae quo architecto et eaque incidunt, alias vero eius perferendis, maxime consequatur voluptatem tenetur. Expedita cumque sunt voluptatem nihil ipsam deserunt eaque optio ab excepturi iste. A, fugit beatae quaerat, omnis provident, officia natus debitis facere quisquam eius culpa repellendus suscipit! Exercitationem eveniet, tempora iusto deserunt ut porro! Voluptatem illo amet eligendi fuga quo modi hic commodi qui officiis esse rem, a ex voluptates aliquam aliquid tempora numquam non voluptatum quod id possimus distinctio corrupti? Qui vel harum voluptas velit aliquid neque dignissimos magnam culpa, repellat ab at odit, sed repellendus ratione tempora quos placeat voluptatibus repudiandae, consectetur nulla. Ullam deserunt inventore fugit sint tempora eaque dolor provident praesentium, rerum maiores sed officia modi quidem esse, cum, architecto odio laborum? Quae perspiciatis et autem voluptate delectus. Quo eligendi ea culpa exercitationem ipsum eveniet officiis unde praesentium rerum, deleniti omnis temporibus sapiente quisquam delectus, perspiciatis necessitatibus nulla asperiores. Nulla ex excepturi, quae similique deserunt nemo pariatur quidem quo doloribus officia, praesentium id, eligendi ea atque alias accusantium. Aperiam ipsam architecto nemo eum vero unde fugiat, debitis iusto, expedita saepe magnam, quasi ipsum provident eaque esse similique excepturi hic autem deleniti veniam. Itaque labore, incidunt praesentium velit necessitatibus totam impedit debitis culpa illum quibusdam repudiandae magni odio eius adipisci earum suscipit dolor exercitationem? Dignissimos laboriosam cumque tempore voluptate amet numquam animi molestias blanditiis nemo, veritatis totam voluptatibus mollitia quaerat ut nisi quidem aspernatur consequuntur sint iusto eum labore? Maiores, voluptates reiciendis eos labore corporis deleniti maxime magnam dolorem tempore neque eveniet, repellat, laudantium earum perspiciatis sapiente doloremque dolor modi odio. Illo reprehenderit aliquam nobis pariatur adipisci hic neque non inventore eaque minus provident, dicta rem beatae accusantium totam voluptates, eius culpa fugiat nulla autem magnam iusto laboriosam distinctio? Modi porro est dolores accusamus incidunt nam hic nobis eveniet laboriosam sit voluptatibus adipisci eos molestiae explicabo voluptates sapiente, expedita maxime perspiciatis quam aliquid facilis et natus blanditiis necessitatibus. Voluptas atque ipsa vitae rem temporibus vel dicta aperiam nemo adipisci error, tenetur culpa quidem magni reiciendis natus quaerat unde! Molestias, ab maxime voluptatibus iusto culpa saepe aliquid animi expedita? A vero odio voluptatum voluptatibus dicta nobis delectus numquam unde autem sed! Dignissimos reprehenderit at, laborum asperiores placeat similique ea consectetur omnis labore dolores maxime natus. Obcaecati pariatur, odit facere ab iure dolores nihil necessitatibus tenetur asperiores corporis laudantium inventore magnam aperiam incidunt, iusto enim itaque maxime at beatae quibusdam dignissimos ex repellat animi recusandae? Sunt, nisi voluptatem! Aliquam commodi error optio, temporibus sunt odit nobis id, aut voluptatum nihil dolore corrupti, ullam voluptates eos totam. Velit quae adipisci, quia est obcaecati voluptatem doloremque! Molestias animi accusantium ratione, eligendi, fuga commodi quia in neque sapiente rem debitis ab doloremque excepturi cum culpa minus fugit? Porro ab soluta, fugiat, beatae voluptates asperiores repudiandae veritatis minus itaque nisi pariatur harum commodi eius debitis. Iusto soluta tempora accusantium quaerat non facere eligendi reiciendis atque vel praesentium earum, dicta voluptate fugiat cum similique laudantium laborum ullam vitae suscipit numquam, obcaecati, quae qui libero. Perferendis soluta voluptas commodi non, nulla ex perspiciatis quia temporibus corrupti? Blanditiis natus laudantium aperiam rerum, ipsa cupiditate placeat voluptatum quod, alias, esse debitis eum ea distinctio laborum velit ratione? Magni eligendi repellat animi nulla reiciendis quaerat ullam dolor beatae aliquam nobis id quo ratione quod ea itaque labore impedit ex, nihil commodi fugit incidunt nisi. A ab aliquam dolorem molestias illum!</p>
    </div>
  )
}

export default page 